(()=>{"use strict";var e,t,r,n,i,s={44:(e,t,r)=>{r.a(e,async(e,t)=>{try{r(788);var n=r(478),i=r(789),s=r(809),o=r(730);console.log("Hello World from the Battleship project.");const a=new i.P,c=new n.B(document.querySelector("#player-board"),a);c.renderPlayerBoard();const l=new s.c,h=document.querySelector("#direction-button"),d=document.querySelector("#status-div");let p=null,u=null;await g(5),await g(4),await g(3),await g(3),await g(2),u=await l.acquire();const f=new i.P,v=new n.B(document.querySelector("#opponent-board"),f);document.querySelector("#direction-button-container").style.display="none",document.querySelector("#board-container").style.justifyContent="space-around",v.renderOpponentBoard();const y=new o.T(f,a);y.placeShips();let m="";for(;;){if(d.innerHTML="<p>Place your attack on the board to the right</p>",v.placeAttackEventListeners(u),u=await l.acquire(),f.allShipsSank()){m="You";break}if(y.placeAttack(),c.renderPlayerBoard(),a.allShipsSank()){m="Computer";break}}async function g(e){u=await l.acquire(),d.innerHTML=`<p>Place ship of length ${e}.</p><p>Press the button to toggle between Horizontal and Vertical Direction</p>`,"Horizontal"===h.textContent?c.placeShipEventListeners("down",e,u):c.placeShipEventListeners("right",e,u),p&&h.removeEventListener("click",p),p=()=>c.directionButtonClicked(h,e,u),h.addEventListener("click",p)}d.textContent=`${m} won! Refresh the page or press F5 to play again.`,d.style.fontSize="xx-large",t()}catch(b){t(b)}},1)},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var s={},o=[],a=0;a<e.length;a++){var c=e[a],l=n.base?c[0]+n.base:c[0],h=s[l]||0,d="".concat(l," ").concat(h);s[l]=h+1;var p=r(d),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var f=i(u,n);n.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}o.push(d)}return o}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var s=n(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=r(s[o]);t[a].references--}for(var c=n(e,i),l=0;l<s.length;l++){var h=r(s[l]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}s=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var h=[].concat(e[l]);n&&o[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),r&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=r):h[2]=r),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),t.push(h))}},t}},365:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(601),i=r.n(n),s=r(314),o=r.n(s)()(i());o.push([e.id,'body {\n  font-family: system-ui, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n}  \n\n* {\n  box-sizing: border-box;\n  line-height: 1.5;\n  margin: 0px;\n  padding: 0px;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n#board-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 50px;\n}\n\n#player-board,\n#opponent-board {\n  display: flex;\n  flex-direction: column;\n}\n\n#opponent-board {\n  padding-left: 80px;\n}\n\n.y0, .y1, .y2, .y3, .y4, .y5,\n.y6, .y7, .y8, .y9 {\n  display: flex;\n  flex-direction: row;\n}\n\n.x0, .x1, .x2, .x3, .x4, .x5,\n.x6, .x7, .x8, .x9 {\n  width: 50px;\n  height: 50px;\n  border: 1px solid #2b546b;\n  background-color: #e9e9e9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.miss-square {\n  background-color: #a09999;\n}\n\n.exclusion-square {\n  background-color: #a09999;\n}\n\n.hit-square {\n  background-color: #ee7474;\n}\n\n.ship-square {\n  background-color: #5d97ec;\n}\n\n.attack-hover {\n  background-color: #f5f0b0;\n}\n\n.ship-place-valid-hover {\n  background-color: #a3bce2;\n}\n\n.ship-place-invalid-hover {\n  background-color: #eb9c91;\n}\n\n#direction-button-container{\n  width: 200px;\n  margin: 50px;\n  display: block;\n}\n\n#direction-button {\n  font-size: xx-large;\n  margin-right: 20px;\n  padding: 10px 20px;\n}\n\n#status-div {\n  font-size: x-large;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}',""]);const a=o},478:(e,t,r)=>{r.d(t,{B:()=>n});class n{constructor(e,t){this.board=e,this.gameboardObj=t}renderGrid(){this.board.innerHTML="";for(let e=0;e<10;e++){const t=document.createElement("div");t.className=`y${e}`;for(let e=0;e<10;e++){const r=document.createElement("div");r.className=`x${e}`,t.appendChild(r)}this.board.appendChild(t)}}renderMisses(){this.gameboardObj.getMisses().forEach(e=>{this.board.querySelector(`.y${e[1]} > .x${e[0]}`).classList.add("miss-square")})}renderHits(){this.gameboardObj.getHits().forEach(e=>{const t=e[0],r=e[1],n=this.board.querySelector(`.y${r} > .x${t}`);n.classList.contains("ship-square")&&n.classList.remove("ship-square"),n.classList.add("hit-square")})}renderExclusions(){this.gameboardObj.getExclusions().forEach(e=>{const t=e[0],r=e[1];this.board.querySelector(`.y${r} > .x${t}`).classList.add("exclusion-square")})}renderShips(){this.gameboardObj.getShipPositions().forEach(e=>{const t=e[0],r=e[1];this.board.querySelector(`.y${r} > .x${t}`).classList.add("ship-square")})}renderPlayerBoard(){this.renderGrid(),this.renderShips(),this.renderMisses(),this.renderHits()}renderOpponentBoard(){this.renderGrid(),this.renderMisses(),this.renderHits(),this.renderExclusions()}placeShipEventListeners(e,t,r){for(let n=0;n<10;n++)for(let i=0;i<10;i++){const s=this.board.querySelector(`.y${n} > .x${i}`);!1===this.gameboardObj.placeShipCheck([i,n],e,t).possible?(s.addEventListener("mouseover",()=>this.#e(!1,i,n,e,t)),s.addEventListener("mouseout",()=>this.#t(!1,i,n,e,t))):(s.addEventListener("mouseover",()=>this.#e(!0,i,n,e,t)),s.addEventListener("mouseout",()=>this.#t(!0,i,n,e,t)),s.addEventListener("click",()=>this.#r(i,n,e,t,r)))}}#e(e,t,r,n,i){if(!1===e)for(let e=0;e<i;e++)"right"===n&&t+e<10?this.board.querySelector(`.y${r} > .x${t+e}`).classList.add("ship-place-invalid-hover"):"down"===n&&r+e<10&&this.board.querySelector(`.y${r+e} > .x${t}`).classList.add("ship-place-invalid-hover");else if(e)for(let e=0;e<i;e++)"right"===n?this.board.querySelector(`.y${r} > .x${t+e}`).classList.add("ship-place-valid-hover"):"down"===n&&this.board.querySelector(`.y${r+e} > .x${t}`).classList.add("ship-place-valid-hover")}#t(e,t,r,n,i){if(!1===e)for(let e=0;e<i;e++)"right"===n&&t+e<10?this.board.querySelector(`.y${r} > .x${t+e}`).classList.remove("ship-place-invalid-hover"):"down"===n&&r+e<10&&this.board.querySelector(`.y${r+e} > .x${t}`).classList.remove("ship-place-invalid-hover");else if(e)for(let e=0;e<i;e++)"right"===n?this.board.querySelector(`.y${r} > .x${t+e}`).classList.remove("ship-place-valid-hover"):"down"===n&&this.board.querySelector(`.y${r+e} > .x${t}`).classList.remove("ship-place-valid-hover")}#r(e,t,r,n,i){this.gameboardObj.placeShip([e,t],r,n),this.renderPlayerBoard(),i()}placeAttackEventListeners(e){for(let t=0;t<10;t++)for(let r=0;r<10;r++){const n=this.board.querySelector(`.y${t} > .x${r}`);this.gameboardObj.attackValid([r,t])&&(n.addEventListener("mouseover",()=>this.#n(r,t)),n.addEventListener("mouseout",()=>this.#i(r,t)),n.addEventListener("click",()=>this.#s(r,t,e)))}}#s(e,t,r){this.gameboardObj.receiveAttack([e,t]),this.renderOpponentBoard(),r()}#n(e,t){this.board.querySelector(`.y${t} > .x${e}`).classList.add("attack-hover")}#i(e,t){this.board.querySelector(`.y${t} > .x${e}`).classList.remove("attack-hover")}directionButtonClicked(e,t,r){if(this.renderPlayerBoard(),"Horizontal"===e.textContent)e.textContent="Vertical",this.placeShipEventListeners("right",t,r);else{if("Vertical"!==e.textContent)throw new Error("Error in directionButtonClicked");e.textContent="Horizontal",this.placeShipEventListeners("down",t,r)}}}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},730:(e,t,r)=>{r.d(t,{T:()=>n});class n{constructor(e,t){this.gameBoard=e,this.playerGameBoard=t}placeShips(){this.placeShip(5),this.placeShip(4),this.placeShip(3),this.placeShip(3),this.placeShip(2)}placeAttack(){for(;;){const e=[];if(e.push(Math.floor(10*Math.random())),e.push(Math.floor(10*Math.random())),this.playerGameBoard.attackValid(e))return void this.playerGameBoard.receiveAttack(e)}}placeShip(e){for(;;){const t=[];t.push(Math.floor(10*Math.random())),t.push(Math.floor(10*Math.random()));let r="";if(r=Math.random()<.5?"right":"down",this.gameBoard.placeShipCheck(t,r,e).possible)return void this.gameBoard.placeShip(t,r,e)}}}},788:(e,t,r)=>{var n=r(72),i=r.n(n),s=r(825),o=r.n(s),a=r(659),c=r.n(a),l=r(56),h=r.n(l),d=r(540),p=r.n(d),u=r(113),f=r.n(u),v=r(365),y={};y.styleTagTransform=f(),y.setAttributes=h(),y.insert=c().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=p(),i()(v.A,y),v.A&&v.A.locals&&v.A.locals},789:(e,t,r)=>{r.d(t,{P:()=>i});class n{constructor(e){this.length=e,this.hits=0}hit=()=>{if(!(this.length>this.hits))throw new Error("Ship hits greater than length");this.hits++};isSunk=()=>this.hits===this.length}class i{constructor(){this.#o=[],this.#a=[],this.#c=[],this.#l=[],this.#h=[]}#o;#a;#c;#l;#h;numShips(){return this.#o.length}placeShipCheck(e,t,r){let n="",i=!0;if("down"!==t&&"right"!==t)n="Place Ship Direction Undefined",i=!1;else if(e[0]<0||e[0]>9)n="Place Ship Position X Out of Bounds",i=!1;else if(e[1]<0||e[1]>9)n="Place Ship Position Y Out of Bounds",i=!1;else if("right"===t&&e[0]+r-1>9)n="Place Ship End Position X Out of Bounds",i=!1;else if("down"===t&&e[1]+r-1>9)n="Place Ship End Position Y Out of Bounds",i=!1;else{let s=!1;const o=this.#d(e,t,r);this.#o.forEach(e=>{const t=this.#p(e.pos,e.dir,e.length);s=s||this.#u(o,t)}),s&&(n="Place Ship Collision with Other Ships",i=!1)}return{possible:i,error:n}}#d(e,t,r){let n,i,s,o;if("right"===t)s=e[1],o=e[1],n=e[0],i=e[0]+r-1;else{if("down"!==t)throw new Error("Invalid direction in createSmallCollisionRect");n=e[0],i=e[0],s=e[1],o=e[1]+r-1}return{x_low:n,x_high:i,y_low:s,y_high:o}}#p(e,t,r){let n,i,s,o;if("right"===t)s=e[1]-1,o=e[1]+1,n=e[0]-1,i=e[0]+r;else{if("down"!==t)throw new Error("Invalid direction in createBigCollisionRect");n=e[0]-1,i=e[0]+1,s=e[1]-1,o=e[1]+r}return{x_low:n,x_high:i,y_low:s,y_high:o}}#u(e,t){const r=e.x_high<t.x_low,n=e.x_low>t.x_high,i=e.y_high<t.y_low,s=e.y_low>t.y_high;return!(r||n||i||s)}placeShip(e,t,r){if(!1===this.placeShipCheck(e,t,r).possible)return;for(let n=0;n<r;n++)"right"===t?this.#l.push([e[0]+n,e[1]]):"down"===t&&this.#l.push([e[0],e[1]+n]);const i=new n(r);this.#o.push({pos:e,dir:t,length:r,hit:()=>i.hit(),isSunk:()=>i.isSunk()})}attackValid(e){const t=this.#f(this.#c,e),r=this.#f(this.#a,e),n=this.#f(this.#h,e);return!(r||t||n)}receiveAttack(e){if(!1===this.attackValid(e))return;let t=0;if(this.#o.forEach(r=>{let n=!1;"right"===r.dir?r.pos[1]===e[1]&&r.pos[0]<=e[0]&&e[0]<=r.pos[0]+r.length-1&&(n=!0):r.pos[0]===e[0]&&r.pos[1]<=e[1]&&e[1]<=r.pos[1]+r.length-1&&(n=!0),!0===n&&(t++,r.hit())}),1===t)this.#a.push(e.slice()),e[0]-1>=0&&e[1]-1>=0&&this.#h.push([e[0]-1,e[1]-1]),e[0]+1<10&&e[1]-1>=0&&this.#h.push([e[0]+1,e[1]-1]),e[0]+1<10&&e[1]+1<10&&this.#h.push([e[0]+1,e[1]+1]),e[0]-1>=0&&e[1]+1<10&&this.#h.push([e[0]-1,e[1]+1]);else{if(0!==t)throw new Error("too many hits in receiveAttack function");this.#c.push(e.slice())}}getHits(){return this.#a.slice()}getMisses(){return this.#c.slice()}getShipPositions(){return this.#l.slice()}allShipsSank(){let e=0;return this.#o.forEach(t=>{t.isSunk()&&e++}),e===this.numShips()}#f(e,t){return void 0!==e.find(e=>Array.isArray(e)&&e.length===t.length&&e.every((e,r)=>e===t[r]))}getExclusions(){return this.#h.slice()}}},809:(e,t,r)=>{r.d(t,{c:()=>n});class n{constructor(){this._queue=Promise.resolve()}async acquire(){let e;const t=new Promise(t=>e=t),r=this._queue;return this._queue=this._queue.then(()=>t),await r,e}}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={id:e,exports:{}};return s[e](r,r.exports,a),r.exports}e="function"==typeof Symbol,t=e?Symbol("webpack queues"):"__webpack_queues__",r=e?Symbol("webpack exports"):"__webpack_exports__",n=e?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},a.a=(e,s,o)=>{var a;o&&((a=[]).d=-1);var c,l,h,d=new Set,p=e.exports,u=new Promise((e,t)=>{h=t,l=e});u[r]=p,u[t]=e=>(a&&e(a),d.forEach(e),u.catch(e=>{})),e.exports=u,s(e=>{var s;c=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var s=[];s.d=0,e.then(e=>{o[r]=e,i(s)},e=>{o[n]=e,i(s)});var o={};return o[t]=e=>e(s),o}}var a={};return a[t]=e=>{},a[r]=e,a}))(e);var o=()=>c.map(e=>{if(e[n])throw e[n];return e[r]}),l=new Promise(e=>{(s=()=>e(o)).r=0;var r=e=>e!==a&&!d.has(e)&&(d.add(e),e&&!e.d&&(s.r++,e.push(s)));c.map(e=>e[t](r))});return s.r?l:o()},e=>(e?h(u[n]=e):l(p),i(a))),a&&a.d<0&&(a.d=0)},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.nc=void 0,a(44)})();